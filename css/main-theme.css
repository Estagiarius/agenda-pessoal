/* Main Theme for the Application */
/* Created: [Current Date] */

/* General Body Styles */
body {
    padding-top: 70px;
    background-color: #f8f9fa; /* Very light gray */
    color: #212529; /* Dark gray for text */
    font-family: 'Open Sans', sans-serif;
}

/* Chat-specific styles */
#chat-view .panel-body {
    background-color: #f5f5f5; /* A light grey for the chat background */
    color: #333;
}

.message.user {
    background-color: #3b5527; /* A dark green for user messages */
}

.message.bot {
    background-color: #ffffff; /* White for bot messages */
}

.message strong {
    color: #555;
}

/* Headings */
h1, h2, h3, h4, h5, h6 {
    font-weight: 300; /* Lighter font weight */
}

h1 {
    font-size: 2.5rem;
}

h2 {
    font-size: 2rem;
}

/* Navbar Styling - Ensuring Legibility */
.navbar-default {
    background-color: #ffffff; /* White background */
    border-color: #dee2e6; /* Light border for separation */
}

.navbar-default .navbar-brand {
    color: #007bff; /* Light blue for brand */
}

.navbar-default .navbar-brand:hover,
.navbar-default .navbar-brand:focus {
    color: #0056b3; /* Darker blue for brand on hover/focus */
}

/* Default color for navbar links */
.navbar-default .navbar-nav > li > a {
    color: #495057; /* Mid-gray text for good contrast on white background */
}

/* Color for hovered/focused navbar links */
.navbar-default .navbar-nav > li > a:hover,
.navbar-default .navbar-nav > li > a:focus {
    color: #007bff; /* Light blue on hover/focus for links */
}

/* Styles for active navbar link */
.navbar-default .navbar-nav > .active > a,
.navbar-default .navbar-nav > .active > a:hover,
.navbar-default .navbar-nav > .active > a:focus {
    color: #007bff; /* Light blue for active link text */
    background-color: #e9ecef; /* Light gray background for active link */
}

/* Navbar text (e.g., for elements with .navbar-text class) */
.navbar-default .navbar-text {
  color: #495057; /* Mid-gray for other navbar text */
}

/* Buttons */
.btn {
    border-radius: 0.25rem; /* Subtle border-radius for all buttons */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05); /* Softer shadow for all buttons */
    border-width: 1px; /* Ensure border is present but not too thick */
}

.btn-primary {
    background-color: #007bff;
    border-color: #007bff;
    color: #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Specific shadow for primary */
}

.btn-primary:hover,
.btn-primary:focus,
.btn-primary:active {
    background-color: #0056b3; /* Darken on hover/focus */
    border-color: #0056b3;
    color: #ffffff;
}

.btn-default,
.btn-secondary { /* Targeting .btn-secondary as well, as it's common in Bootstrap themes */
    background-color: #6c757d;
    border-color: #6c757d;
    color: #ffffff;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1); /* Specific shadow for default/secondary */
}

.btn-default:hover,
.btn-default:focus,
.btn-default:active,
.btn-secondary:hover,
.btn-secondary:focus,
.btn-secondary:active {
    background-color: #545b62; /* Darken on hover/focus */
    border-color: #545b62;
    color: #ffffff;
}

/* Form Controls */
.form-control {
    border-radius: 0.25rem;
    border: 1px solid #ced4da;
}

.form-control:focus {
    border-color: #80bdff; /* Light blue border on focus */
    box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); /* Lighter blue shadow */
}

/* Modals */
.modal-content {
    border: 1px solid rgba(0,0,0,.2);
    border-radius: 0.3rem;
    background-color: #fff;
    box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.15); /* Standard modal shadow */
}

/* Alerts */
.alert {
    border-radius: 0.25rem;
    border-width: 1px;
    border-style: solid;
}

.alert-success {
    color: #155724;
    background-color: #d4edda;
    border-color: #c3e6cb;
}

.alert-info {
    color: #0c5460;
    background-color: #d1ecf1;
    border-color: #bee5eb;
}

.alert-warning {
    color: #856404;
    background-color: #fff3cd;
    border-color: #ffeeba;
}

.alert-danger {
    color: #721c24;
    background-color: #f8d7da;
    border-color: #f5c6cb;
}

/* Sticky Filter Controls */
#filter-questions-section {
    position: -webkit-sticky; /* For Safari */
    position: sticky;
    top: 60px; /* Adjust this value based on the actual height of the fixed navbar. Assuming 50px navbar + 10px spacing. */
    background-color: #ffffff; /* White background to prevent content overlap */
    padding-top: 15px;
    padding-bottom: 10px;
    z-index: 1000; /* Ensure it's above most other content but below the main navbar (Bootstrap fixed navbar z-index is typically 1030) */
    border-bottom: 1px solid #ccc; /* Add a subtle border to distinguish the sticky bar */
    box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Optional: add a slight shadow for better separation */
}

/* Ensure Open Sans is available, typically via a @import or <link> in HTML */
/* For this exercise, assuming 'Open Sans' is made available globally (e.g. Google Fonts <link> in index.html) */
/* If not, a @import url('https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap'); could be added here, but it's better in HTML for performance. */

/* Further overrides for modified-bootstrap.css if necessary */
/* For example, to ensure body background is not #e74c3c */
body {
    background-color: #f8f9fa; /* Use !important if strictly necessary to override, but prefer specificity */
}

/* Custom spacing for Today's Overview event items */
#todays-overview .list-group-item h5.list-group-item-heading {
    margin-bottom: 12px; /* Increase space below the title heading */
}

#todays-overview .list-group-item p.list-group-item-text:last-child {
    margin-bottom: 0; /* Keep no margin at the very end of the item */
}

/* Optional: If overall padding of items needs adjustment, uncomment and modify as needed.
   For now, we'll focus on margins of internal elements.
#todays-overview .list-group-item {
    padding-top: 8px;
    padding-bottom: 8px;
}
*/

/* Navbar Mobile Dropdown Legibility Fix - Enhanced Specificity */
@media (max-width: 767px) {
    /* Default text color for items in open mobile dropdown */
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a {
        color: #495057 !important; /* Mid-gray, ensuring override */
        background-color: #ffffff !important; /* Explicitly white background for the link area if needed */
    }

    /* Hover/focus text color for items in open mobile dropdown */
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a:hover,
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a:focus {
        color: #007bff !important; /* Light blue, ensuring override */
        background-color: #f0f0f0 !important; /* Slightly off-white hover for links, or keep transparent if parent is styled */
    }

    /* Active state for items in open mobile dropdown */
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a,
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a:hover,
    .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a:focus {
        color: #007bff !important; 
        background-color: #e9ecef !important;
    }
}

/* Styling for 'Agenda Completa' page */
.event-list-container .event-item {
    margin-bottom: 15px; /* Add some space between event panels */
}

.event-list-container .event-item .panel-heading .panel-title {
    font-size: 1.25em; /* Slightly larger title for event items */
}

.event-list-container .event-item .panel-body p {
    margin-bottom: 8px; /* Adjust spacing between paragraphs within event body */
}

.event-list-container .event-item .panel-body p strong {
    color: #333; /* Ensure strong tags are sufficiently dark */
}

/* Event Modal Field Adjustments */
#eventStartTimeInput,
#eventEndTimeInput {
    width: auto;
    min-width: 120px;
    max-width: 150px; /* Or consider using Bootstrap col classes for layout */
}

#eventDescriptionInput {
    min-height: 100px; /* Provides more space than default rows="3" */
}

#reminderValueInput {
    /* width: auto; */ /* form-control by default is width: 100% of its container */
    min-width: 80px; /* Ensures it's not too crunched */
    /* max-width: 100px; /* Limits excessive width if container is too large, though col-xs-5 handles this */
}

#reminderUnitInput {
    /* width: auto; */ /* form-control by default is width: 100% of its container */
    min-width: 120px; /* Accommodates longer text like "Minutos Antes" */
    /* max-width: 180px; /* Limits excessive width, col-xs-5 also contributes */
}

/* Dashboard styles */
.dashboard-card {
    background-color: #ffffff;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    padding: 20px;
    margin-bottom: 20px;
}

.quick-actions .btn {
    margin-right: 10px;
    margin-bottom: 10px;
}

#upcoming-tasks-container .list-group-item,
#todays-overview .list-group-item {
    border-radius: 5px;
    margin-bottom: 10px;
}

.task-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.task-overdue .task-due-date {
    font-weight: bold;
    color: #a94442; /* Bootstrap's text-danger color */
}

#todays-overview .badge {
    background-color: #337ab7; /* Bootstrap's primary blue */
}

/* Task list styles */
.task-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 10px 15px;
}

.task-main-content {
    display: flex;
    align-items: center;
    flex-grow: 1;
}

.task-checkbox {
    margin-right: 15px;
}

.task-text {
    font-size: 1.1em;
}

.task-item.completed .task-text {
    text-decoration: line-through;
    color: #888;
}

.task-details {
    display: flex;
    align-items: center;
}

.task-details .badge {
    margin-right: 15px;
    padding: 5px 10px;
    font-size: 0.9em;
    color: white;
}

.priority-high { background-color: #d9534f; }
.priority-medium { background-color: #f0ad4e; }
.priority-low { background-color: #5cb85c; }

.due-date {
    margin-right: 15px;
    font-style: italic;
    color: #666;
}

.task-item.overdue .due-date {
    color: #d9534f;
    font-weight: bold;
}

/* Toast Notification Styles */
.toast {
    visibility: hidden;
    min-width: 250px;
    background-color: #333;
    color: #fff;
    text-align: center;
    border-radius: 2px;
    padding: 16px;
    position: fixed;
    z-index: 1051; /* Higher than Bootstrap modal backdrop */
    left: 50%;
    transform: translateX(-50%);
    bottom: 30px;
    font-size: 17px;
}

.toast.show {
    visibility: visible;
    -webkit-animation: fadein 0.5s, fadeout 0.5s 2.5s;
    animation: fadein 0.5s, fadeout 0.5s 2.5s;
}

@-webkit-keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 30px; opacity: 1;}
}

@keyframes fadein {
    from {bottom: 0; opacity: 0;}
    to {bottom: 30px; opacity: 1;}
}

@-webkit-keyframes fadeout {
    from {bottom: 30px; opacity: 1;}
    to {bottom: 0; opacity: 0;}
}



/* Timetable-specific styles */
.flat-timetable table {
    color: #333; /* Dark text for light theme */
}
.flat-timetable table tr:nth-child(2n) {
    background: #f8f9fa; /* Very light gray for alternating rows */
}
.flat-timetable table tr:nth-child(2n+3) {
    background: #ffffff; /* White for other rows */
}
.flat-timetable .days, .flat-timetable .time, .flat-timetable .title {
    background: #6c757d; /* Using secondary color for headers */
    color: #ffffff;
}

.grade-low {
    background-color: #f8d7da;
    color: #721c24;
    font-weight: bold;
}

@keyframes fadeout {
    from {bottom: 30px; opacity: 1;}
    to {bottom: 0; opacity: 0;}
}

@media (prefers-color-scheme: dark) {
    body {
        background-color: #212529; /* Dark gray, using !important to override existing !important */
        color: #e0e0e0; /* Light gray text */
    }

    #main-content-area {
        background-color: #212529; /* Ensure main content area also has dark background if it's styled separately */
        /* If #main-content-area inherits body background, this might not be needed unless it has its own light background */
    }

    /* Navbar */
    .navbar-default {
        background-color: #343a40; /* Darker gray for navbar */
        border-color: #454d55; /* Slightly lighter border for dark navbar */
    }

    .navbar-default .navbar-brand {
        color: #d5941b; /* White/very light gray for brand */
    }

    .navbar-default .navbar-brand:hover,
    .navbar-default .navbar-brand:focus {
        color: #ced4da; /* Lighter gray on hover/focus */
    }

    .navbar-default .navbar-nav > li > a {
        color: #80bdff; /* Light blue for nav links */
    }

    .navbar-default .navbar-nav > li > a:hover,
    .navbar-default .navbar-nav > li > a:focus {
        color: #ffffff; /* White on hover/focus */
        background-color: #495057; /* Slightly lighter dark shade for hover background */
    }

    .navbar-default .navbar-nav > .active > a,
    .navbar-default .navbar-nav > .active > a:hover,
    .navbar-default .navbar-nav > .active > a:focus {
        color: #f8f9fa; /* White/very light gray for active link */
        background-color: #495057; /* Slightly lighter dark shade for active background */
    }
    
    .navbar-default .navbar-text {
      color: #ced4da; /* Light gray for other navbar text */
    }

    .navbar-default .navbar-toggle {
        border-color: #6c757d;
    }
    .navbar-default .navbar-toggle:hover,
    .navbar-default .navbar-toggle:focus {
        background-color: #495057;
    }
    .navbar-default .navbar-toggle .icon-bar {
        background-color: #f8f9fa;
    }

    /* Modals */
    .modal-content {
        background-color: #343a40; /* Dark gray for modal content */
        color: #e0e0e0; /* Light text for modal */
        border-color: #454d55;
    }

    .modal-header {
        border-bottom-color: #454d55;
    }
    .modal-header .close {
        color: #f8f9fa;
        text-shadow: 0 1px 0 #000;
    }
    .modal-header .close:hover,
    .modal-header .close:focus {
        color: #ced4da;
    }


    .modal-footer {
        border-top-color: #454d55;
    }

    /* Form Controls */
    .form-control {
        background-color: #495057; /* Darker input background */
        color: #e0e0e0; /* Light text for inputs */
        border-color: #6c757d; /* Mid-gray border */
    }

    .form-control:focus {
        background-color: #495057; /* Keep dark background on focus */
        color: #e0e0e0;
        border-color: #80bdff; /* Bootstrap's default focus blue, can be adjusted */
        box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25); /* Standard focus shadow */
    }
    
    .form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control {
        background-color: #343a40;
        opacity: 0.7;
    }

    select.form-control {
        /* Specific overrides for select if needed, often harder to style consistently */
    }
    
    textarea.form-control {
       /* Specific overrides for textarea if needed */
    }
    
    .form-control-static { /* For static text in forms, like #selectedDateDisplay */
        color: #e0e0e0;
    }


    /* Buttons */
    .btn-default,
    .btn-secondary {
        background-color: #6c757d; /* Mid-gray */
        border-color: #60676d;
        color: #f8f9fa; /* White text */
    }

    .btn-default:hover,
    .btn-default:focus,
    .btn-default:active,
    .btn-secondary:hover,
    .btn-secondary:focus,
    .btn-secondary:active {
        background-color: #545b62; /* Darker gray */
        border-color: #4e555b;
        color: #f8f9fa;
    }

    .btn-primary {
        background-color: #007bff; /* Keep primary color distinct */
        border-color: #007bff;
        color: #ffffff;
    }

    .btn-primary:hover,
    .btn-primary:focus,
    .btn-primary:active {
        background-color: #0056b3;
        border-color: #0056b3;
        color: #ffffff;
    }
    
    .btn-info {
        background-color: #17a2b8; /* Default Bootstrap info */
        border-color: #17a2b8;
        color: #ffffff;
    }
    .btn-info:hover, .btn-info:focus, .btn-info:active {
        background-color: #117a8b;
        border-color: #10707f;
        color: #ffffff;
    }


    /* Panels (used in all_events.html) */
    .panel-default {
        background-color: #2c3034; /* Darker panel background */
        border-color: #454d55;
        color: #e0e0e0; /* Light text for panel content */
    }

    .panel-default > .panel-heading {
        background-color: #343a40; /* Slightly lighter dark for panel heading */
        border-color: #454d55;
        color: #f8f9fa; /* Light text for panel title */
    }
    
    .panel-default > .panel-body {
        color: #f1ac0b; /* Ensure panel body text is light */
        background-color: #495057; /* Darker background for panel body */
    }
    
    .panel-footer {
      background-color: #343a40;
      border-top-color: #454d55;
    }

    /* List Group Items */
    .list-group-item {
        background-color: #343a40; /* Dark background for list items */
        border-color: #454d55;
        color: #e0e0e0; /* Light text */
    }

    a.list-group-item,
    button.list-group-item {
        color: #e0e0e0;
    }
    
    a.list-group-item:hover,
    button.list-group-item:hover,
    a.list-group-item:focus,
    button.list-group-item:focus {
        background-color: #495057; /* Lighter dark for hover/focus */
        color: #f8f9fa;
    }

    .list-group-item.active,
    .list-group-item.active:hover,
    .list-group-item.active:focus {
        background-color: #007bff; /* Primary color for active item */
        border-color: #007bff;
        color: #ffffff;
    }
    .list-group-item.active .list-group-item-text,
    .list-group-item.active:hover .list-group-item-text,
    .list-group-item.active:focus .list-group-item-text {
      color: #cce5ff; /* Lighter text for active items if needed */
    }
    
    /* Alerts - Adjusting for dark theme */
    .alert-success {
        color: #d4edda;
        background-color: #155724; /* Dark green background */
        border-color: #1c7430;
    }

    .alert-info {
        color: #d1ecf1;
        background-color: #0c5460; /* Dark blue background */
        border-color: #0e6e81;
    }

    .alert-warning {
        color: #fff3cd;
        background-color: #856404; /* Dark yellow/orange background */
        border-color: #aa8205;
    }

    .alert-danger {
        color: #f8d7da;
        background-color: #721c24; /* Dark red background */
        border-color: #8f242e;
    }
    
    /* Specific Overrides for sticky filter if needed */
    #filter-questions-section {
        background-color: #2c3034; /* Dark background for sticky filter */
        border-bottom: 1px solid #454d55;
        box-shadow: 0 2px 5px rgba(0,0,0,0.4);
    }

    /* Dropdown menus */
    .dropdown-menu {
        background-color: #343a40;
        border-color: #454d55;
    }
    .dropdown-menu > li > a {
        color: #ced4da;
    }
    .dropdown-menu > li > a:hover,
    .dropdown-menu > li > a:focus {
        color: #f8f9fa;
        background-color: #495057;
    }
    .dropdown-menu > .active > a,
    .dropdown-menu > .active > a:hover,
    .dropdown-menu > .active > a:focus {
        color: #f8f9fa;
        background-color: #007bff;
    }
    .dropdown-menu .divider {
        background-color: #454d55;
    }

    /* Navbar Mobile Dropdown Legibility Fix - Dark Theme */
    @media (max-width: 767px) {
        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a,
        .navbar-default .navbar-nav .open .dropdown-menu > li > a { /* Added for collapsed state */
            color: #ced4da !important;
            background-color: #343a40 !important; /* Ensure links in dropdown have dark background */
        }

        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a:hover,
        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > li > a:focus,
        .navbar-default .navbar-nav .open .dropdown-menu > li > a:hover,
        .navbar-default .navbar-nav .open .dropdown-menu > li > a:focus {
            color: #f8f9fa !important;
            background-color: #495057 !important;
        }

        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a,
        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a:hover,
        .navbar-default .navbar-collapse.in .navbar-nav > .open > .dropdown-menu > .active > a:focus,
        .navbar-default .navbar-nav .open .dropdown-menu > .active > a,
        .navbar-default .navbar-nav .open .dropdown-menu > .active > a:hover,
        .navbar-default .navbar-nav .open .dropdown-menu > .active > a:focus {
            color: #f8f9fa !important;
            background-color: #007bff !important;
        }
    }
    
    /* Ensure strong tags are legible in dark theme */
    strong, .event-list-container .event-item .panel-body p strong {
        color: #f0f0f0; /* Lighter color for strong tags */
    }

    /* Datepickk specific adjustments if needed - example for header */
    #Datepickk .d-header {
        background-color: #2c3034; /* Darker header for datepicker */
        color: #f8f9fa;
    }
    #Datepickk .d-header i#d-previous:before {
        border-right-color: #f8f9fa;
    }
    #Datepickk .d-header i#d-previous:after {
        border-right-color: #2c3034;
    }
    #Datepickk .d-header i#d-next:before {
        border-left-color: #f8f9fa;
    }
    #Datepickk .d-header i#d-next:after {
        border-left-color: #2c3034;
    }
    #Datepickk .d-week {
        background-color: #007bff; /* Example: Use primary color for week headers */
        color: #ffffff;
    }
    #Datepickk .d-calendar {
        background-color: #2c3034; /* Dark background for calendar body */
        color: #e0e0e0;
    }
    #Datepickk .d-table input + label { /* Date cells */
        color: #e0e0e0;
    }
    #Datepickk .d-table input + label.next,
    #Datepickk .d-table input + label.prev { /* Next/Prev month dates */
        color: #6c757d; 
    }
    #Datepickk .d-tables:not(.locked) input:not(:checked) + label:not(.hidden):hover {
        background-color: #495057; /* Hover for date cells */
        color: #f8f9fa;
    }
    #Datepickk .d-table input:checked + label { /* Selected date */
        background-color: #007bff;
        color: #ffffff;
    }
    #Datepickk .d-table input:checked + label:before { /* Range start/end selection indicator */
        background-color: #0056b3;
    }
     #Datepickk .d-tables.range:not(.before) input:not(.single):checked + label ~ label:not(.hidden):before { /* Range middle selection indicator */
        background-color: rgba(0, 123, 255, 0.5);
    }
    #Datepickk .d-table input + label.d-hidden { /* Hidden/unavailable dates */
        color: #495057 !important;
        background: #212529 !important;
    }
    #Datepickk .d-legend p {
        color: #e0e0e0;
        background-color: #2c3034;
    }
    #Datepickk .d-legend {
         background-color: #2c3034;
    }
    #Datepickk .d-confirm, #Datepickk .d-title {
        color: #f8f9fa; /* Light text for confirm/title if they were dark */
    }


    /* Flat Timetable specific adjustments */
    .flat-timetable table {
        color: #e0e0e0; /* Light text for dark theme */
    }
    .flat-timetable table tr:nth-child(2n) {
        background: #2c3034; /* Darker alternating row */
    }
    .flat-timetable table tr:nth-child(2n+3) {
        background: #343a40; /* Lighter dark alternating row */
    }
    .flat-timetable .days, .flat-timetable .time, .flat-timetable .title {
        background: #007bff; /* Using primary blue for headers */
        color: #ffffff;
    }

    /* Chat-specific styles */
    #chat-view .panel.panel-default .panel-body {
        background-color: #2c3034 !important; /* Darker background for chat messages */
        color: #f1ac0b !important; /* Light text color for better contrast */
    }

    subjects-table-body {
        background-color: #343a40; /* Darker background for subjects table */
        color: #e0e0e0; /* Light text for subjects */
    }

    .message.user {
        background-color: #056162; /* A dark teal for user messages */
        color: #e0e0e0;
    }

    .message.bot {
        background-color: #495057; /* A mid-dark grey for bot messages */
        color: #e0e0e0;
    }

    .message strong {
        color: #f0f0f0;
    }

    .dashboard-card {
        background-color: #343a40;
        box-shadow: 0 2px 4px rgba(0,0,0,0.4);
    }
}